\ProvidesExplPackage{packages/setup}{2023--27--12}{1.0}{%
The User setup package.
}

\usepackage{xkeyval}
\NewDocumentCommand{\modnumber}{}{1}
\NewDocumentCommand{\worknumber}{}{1}

\NewDocumentCommand{\proddate}{}{\today}
\NewDocumentCommand{\prodnumber}{}{}

\NewDocumentCommand{\commithash}{}{}

\NewDocumentCommand{\subjectname}{}{subjectname}
\NewDocumentCommand{\prodname}{}{prodname}
\NewDocumentCommand{\worktheme}{}{worktheme}
\NewDocumentCommand{\teacher}{}{teacher}

\NewDocumentCommand{\subjectpath}{}{}

\DeclareOptionX{modnumber}{\RenewDocumentCommand{\modnumber}{}{#1}}
\DeclareOptionX{worknumber}{\RenewDocumentCommand{\worknumber}{}{#1}}
\DeclareOptionX{worktheme}{\RenewDocumentCommand{\worktheme}{}{#1}}
\DeclareOptionX{proddate}{\RenewDocumentCommand{\proddate}{}{#1}}
\DeclareOptionX{commit}{\RenewDocumentCommand{\commithash}{}{#1}}

\NewDocumentCommand{\commit}{s}{%
	\IfBooleanTF{#1}
		{\commithash}
		{\texttt{\commithash}}%
}

\DeclareOptionX{printprodnumber}{%
	\RenewDocumentCommand{\prodnumber}{}{№\modnumber.\worknumber}%
}%

% Subjects
\DeclareOptionX{oop}{%
	\RenewDocumentCommand{\subjectname}{}{Об'єктно~орієнтоване~програмування}%
	\RenewDocumentCommand{\teacher}{}{доцент\\Олексій~Германович~Піскунов}%
	\renewcommand{\subjectpath}{subjects/oop}%
}

\DeclareOptionX{sysprog}{%
	\RenewDocumentCommand{\subjectname}{}{Системне~програмування}%
	\RenewDocumentCommand{\teacher}{}{Андрій~Костянтинович~Шевченко}%
	\renewcommand{\subjectpath}{subjects/sysprog}%
}

\DeclareOptionX{nummet}{%
	\RenewDocumentCommand{\subjectname}{}{Обчислювальні~методи}%
	\RenewDocumentCommand{\teacher}{}{доцент,~Оксана~Михайлівна~Бердник}%
	\renewcommand{\subjectpath}{subjects/nummet}%
}

\DeclareOptionX{matstat}{%
	\RenewDocumentCommand{\subjectname}{}{Математична~статистика}%
	\RenewDocumentCommand{\teacher}{}{професор\\Пилип~Олександрович~Приставка}%
	\renewcommand{\subjectpath}{subjects/matstat}%
}

\DeclareOptionX{ads}{%
	\RenewDocumentCommand{\subjectname}{}{Алгоритми~та~структури~даних}%
	\RenewDocumentCommand{\teacher}{}{Ольга~Генадіївна~Чолишкіна}%
	\renewcommand{\subjectpath}{subjects/ads}%
}

\DeclareOptionX{matan}{%
	\RenewDocumentCommand{\subjectname}{}{Математичний~аналіз}%
	\RenewDocumentCommand{\teacher}{}{Валерій~Григорович~Хребет}%
	\renewcommand{\subjectpath}{subjects/matan}%
}

\DeclareOptionX{diffeq}{%
	\RenewDocumentCommand{\subjectname}{}{Диференціальні~рівняння}%
	\RenewDocumentCommand{\teacher}{}{Петро~Федорович~Жук}%
	\renewcommand{\subjectpath}{subjects/diffeq}%
}

% Work types
\DeclareOptionX{lab}{%
	\RenewDocumentCommand{\prodname}{}{Лабораторна~робота}%
}

\DeclareOptionX{mod}{%
	\RenewDocumentCommand{\prodname}{}{Модульна~контрольна~робота}%
}

\DeclareOptionX{kurs}{%
	\RenewDocumentCommand{\prodname}{}{Курсова~робота}%
}

\DeclareOptionX{rgr}{%
	\RenewDocumentCommand{\prodname}{}{Розрахунково--графічна~робота}%
}

\DeclareOptionX{referat}{%
	\RenewDocumentCommand{\prodname}{}{Реферат~на~тему\\ \enquote{\worktheme{}}}%
}


\ExecuteOptionsX{oop}
\ExecuteOptionsX{lab}
\DeclareOptionX*{\PackageWarning{packages/setup}{`\CurrentOption' is ignored}}%
\ProcessOptionsX\relax

\RequirePackage{biblatex}
\addbibresource{\subjectpath/bibliography.bib}
